option_settings:
  # Elastic Beanstalk Platform Settings
  aws:elasticbeanstalk:managedactions:
    ManagedActionsEnabled: true
    PreferredStartTime: "Sun:10:00"
    
  aws:elasticbeanstalk:managedactions:platformupdate:
    UpdateLevel: minor
    InstanceRefreshEnabled: true
    
  # Application Environment
  aws:elasticbeanstalk:application:environment:
    NODE_VERSION: '22.x'
    NPM_CONFIG_PRODUCTION: 'true'
    
  # Command Settings
  aws:elasticbeanstalk:command:
    DeploymentPolicy: RollingWithAdditionalBatch
    BatchSizeType: Percentage
    BatchSize: 50
    Timeout: "600"

commands:
  01_check_platform:
    command: |
      echo "=========================================="
      echo "Elastic Beanstalk Platform Information"
      echo "=========================================="
      echo "Node.js Version: $(node --version)"
      echo "NPM Version: $(npm --version)"
      echo "Platform: Amazon Linux 2023"
      echo "=========================================="
      echo ""

